# ä¸€ã€Kotlinä¼˜åŠ¿

## 1ã€ç®€æ´

æ•°æ®ç±»ï¼š

```kotlin
data class Artist(
    var id: Long,
    var name: String,
    var url: String,
    var mbid: String)
```

è¿™ä¸ªæ•°æ®ç±»ï¼Œå®ƒä¼šè‡ªåŠ¨ç”Ÿæˆæ‰€æœ‰å±æ€§å’Œå®ƒä»¬çš„è®¿é—®å™¨ï¼Œä»¥åŠä¸€äº›æœ‰ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚ï¼Œ`toString()`

## 2ã€ç©ºå®‰å…¨

**Kotlinçš„å˜é‡æ²¡æœ‰é»˜è®¤å€¼ï¼Œå¿…é¡»æ‰‹åŠ¨èµ‹å€¼**

```kotlin
// è¿™é‡Œä¸èƒ½é€šè¿‡ç¼–è¯‘. Artist ä¸èƒ½æ˜¯null
var notNullArtist: Artist = null

// Artist å¯ä»¥æ˜¯ null
var artist: Artist? = null

// æ— æ³•ç¼–è¯‘, artistå¯èƒ½æ˜¯nullï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œå¤„ç†
artist.print()

// åªè¦åœ¨artist != nullæ—¶æ‰ä¼šæ‰“å°
artist?.print()

// åªæœ‰åœ¨ç¡®ä¿artistä¸æ˜¯nullçš„æƒ…å†µä¸‹æ‰èƒ½è¿™ä¹ˆè°ƒç”¨ï¼Œå¦åˆ™å®ƒä¼šæŠ›å‡ºå¼‚å¸¸
artist!!.print()

// ä½¿ç”¨Elvisæ“ä½œç¬¦æ¥ç»™å®šä¸€ä¸ªåœ¨æ˜¯nullçš„æƒ…å†µä¸‹çš„æ›¿ä»£å€¼
val name = artist?.name ?: "empty"
```

## 3ã€æ‰©å±•æ–¹æ³•

ç»™Fragmentå¢åŠ ä¸€ä¸ªæ˜¾ç¤º toast çš„å‡½æ•°ï¼š

```kotlin
fun Fragment.toast(message: CharSequence, duration: Int = Toast.LENGTH_SHORT) { 
    Toast.makeText(getActivity(), message, duration).show()
}
è°ƒç”¨
fragment.toast("Hello world!")
```

## 4ã€å‡½æ•°å¼æ”¯æŒï¼ˆLambdasï¼‰

```kotlin
view.setOnClickListener { toast("Hello world!") }
```



### 5ã€ä¸‰å…ƒè¿ç®—

æ‰€ä»¥å®ƒåˆå¼•å…¥äº†ä¸€ä¸ªè¿ç®—ç¬¦â€œ?:â€ï¼Œå­¦åå«åšâ€œElvis æ“ä½œç¬¦â€ï¼Œå«èµ·æ¥æœ‰ç‚¹æ‹—å£ï¼Œè¯»è€…å¯ä»¥æŠŠå®ƒå½“ä½œæ˜¯Javaä¸‰å…ƒè¿ç®—ç¬¦â€œå˜é‡å=æ¡ä»¶è¯­å¥?å–å€¼A:å–å€¼Bâ€çš„ç¼©å†™ã€‚å¼•å…¥â€œ?:â€çš„å®ç°ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š

 ```java
result?.getBoolean(packageName) ?: false
 ```







# äºŒã€å¼€å‘ç¯å¢ƒé…ç½®

é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `build.gradle`

```groovy
buildscript {
    ğŸ‘‡
    ext.kotlin_version = '1.3.41'
    repositories {
        ...
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:3.5.0-beta05'
        ğŸ‘‡
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
}
```

app ç›®å½•ä¸‹çš„ `build.gradle`ï¼š

```groovy
apply plugin: 'com.android.application'
ğŸ‘‡
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
...
â€‹
android {
    ...
}
â€‹
dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    ğŸ‘‡
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version"
    ...
}
```



# ä¸‰ã€åŸºç¡€è¯­æ³•

## 1ã€å˜é‡

### 1ï¼‰ã€å˜é‡çš„å£°æ˜ä¸èµ‹å€¼

Javaé‡Œå£°æ˜ä¸€ä¸ªViewå˜é‡çš„å†™æ³•ï¼›

```java
View v;
```

Kotlin é‡Œå£°æ˜ä¸€ä¸ªå˜é‡çš„æ ¼å¼æ˜¯è¿™æ ·çš„ï¼š

```kotlin
var v: View
```

è¿™é‡Œæœ‰å‡ å¤„ä¸åŒï¼š

- æœ‰ä¸€ä¸ª `var` å…³é”®å­—
- ç±»å‹å’Œå˜é‡åä½ç½®äº’æ¢äº†
- ä¸­é—´æ˜¯ç”¨å†’å·åˆ†éš”çš„
- ç»“å°¾æ²¡æœ‰åˆ†å·ï¼ˆå¯¹ï¼ŒKotlin é‡Œé¢ä¸éœ€è¦åˆ†å·ï¼‰

çœ‹ä¸Šå»åªæ˜¯è¯­æ³•æ ¼å¼æœ‰äº›ä¸åŒï¼Œä½†å¦‚æœçœŸè¿™ä¹ˆå†™ï¼ŒIDE ä¼šæŠ¥é”™ï¼š

```kotlin
class Sample {
    var v: View
    // ğŸ‘†è¿™æ ·å†™ IDE ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯
    // Property must be initialized or be abstract
}
```

è¿™ä¸ªæç¤ºæ˜¯åœ¨è¯´ï¼Œå±æ€§éœ€è¦åœ¨å£°æ˜çš„åŒæ—¶åˆå§‹åŒ–ï¼Œé™¤éä½ æŠŠå®ƒå£°æ˜æˆæŠ½è±¡çš„ã€‚

- é‚£ä»€ä¹ˆæ˜¯å±æ€§å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬å¯ä»¥ç®€å•ç±»æ¯” Java çš„ field æ¥ç†è§£ Kotlin çš„ Propertyï¼Œè™½ç„¶å®ƒä»¬å…¶å®æœ‰äº›ä¸ä¸€æ ·ï¼ŒKotlin çš„ Property åŠŸèƒ½ä¼šå¤šäº›ã€‚
- å˜é‡å±…ç„¶è¿˜èƒ½å£°æ˜æˆæŠ½è±¡çš„ï¼Ÿ

å±æ€§ä¸ºä»€ä¹ˆè¦æ±‚åˆå§‹åŒ–å‘¢ï¼Ÿå› ä¸º Kotlin çš„å˜é‡æ˜¯æ²¡æœ‰é»˜è®¤å€¼çš„ï¼Œè¿™ç‚¹ä¸åƒ Javaï¼ŒJava çš„ field æœ‰é»˜è®¤å€¼ï¼š

æ—¢ç„¶è¿™æ ·ï¼Œé‚£æˆ‘ä»¬å°±ç»™å®ƒä¸€ä¸ªé»˜è®¤å€¼ null å§ï¼Œé—æ†¾çš„æ˜¯ä½ ä¼šå‘ç°ä»ç„¶æŠ¥é”™ã€‚

```kotlin
class Sample {
    var v: View = null
    // ğŸ‘†è¿™æ ·å†™ IDE ä»ç„¶ä¼šæŠ¥é”™ï¼ŒNull can not be a value of a non-null type View
}
```

åˆä¸è¡Œï¼ŒIDE å‘Šè¯‰æˆ‘éœ€è¦èµ‹ä¸€ä¸ªéç©ºçš„å€¼ç»™å®ƒæ‰è¡Œï¼Œæ€ä¹ˆåŠï¼Ÿ**å…¶å®è¿™éƒ½æ˜¯ Kotlin çš„ç©ºå®‰å…¨è®¾è®¡ç›¸å…³çš„å†…å®¹**ã€‚



### 2ï¼‰ã€Kotlin çš„ç©ºå®‰å…¨è®¾è®¡

å•æ¥è¯´å°±æ˜¯é€šè¿‡ IDE çš„æç¤ºæ¥é¿å…è°ƒç”¨ null å¯¹è±¡ï¼Œä»è€Œé¿å… NullPointerExceptionã€‚Kotlin è¯­è¨€çº§åˆ«çš„æä¾›äº†é»˜è®¤æ”¯æŒï¼Œè€Œä¸”æç¤ºçš„çº§åˆ«ä» warning å˜æˆäº† errorï¼ˆæ‹’ç»ç¼–è¯‘ï¼‰ï¼š

```kotlin
var view: View = null
// ğŸ‘†IDE ä¼šæç¤ºé”™è¯¯ï¼ŒNull can not be a value of a non-null type View
```

åœ¨ Kotlin é‡Œé¢ï¼Œæ‰€æœ‰çš„å˜é‡é»˜è®¤éƒ½æ˜¯ä¸å…è®¸ä¸ºç©ºçš„ï¼Œå¦‚æœä½ ç»™å®ƒèµ‹å€¼ nullï¼Œå°±ä¼šæŠ¥é”™ï¼Œåƒä¸Šé¢é‚£æ ·ã€‚

è¿™ç§æœ‰ç‚¹å¼ºç¡¬çš„è¦æ±‚ï¼Œå…¶å®æ˜¯å¾ˆåˆç†çš„ï¼šæ—¢ç„¶ä½ å£°æ˜äº†ä¸€ä¸ªå˜é‡ï¼Œå°±æ˜¯è¦ä½¿ç”¨å®ƒå¯¹å§ï¼Ÿé‚£ä½ æŠŠå®ƒèµ‹å€¼ä¸º null å¹²å˜›ï¼Ÿè¦å°½é‡è®©å®ƒæœ‰å¯ç”¨çš„å€¼å•Šã€‚

ä¸è¿‡ï¼Œè¿˜æ˜¯æœ‰äº›åœºæ™¯ï¼Œå˜é‡çš„å€¼çœŸçš„æ— æ³•ä¿è¯ç©ºä¸å¦ï¼Œæ¯”å¦‚ä½ è¦ä»æœåŠ¡å™¨å–ä¸€ä¸ª JSON æ•°æ®ï¼Œå¹¶æŠŠå®ƒè§£ææˆä¸€ä¸ª User å¯¹è±¡ï¼š

```kotlin
class User {
    var name: String = null // ğŸ‘ˆè¿™æ ·å†™ä¼šæŠ¥é”™ï¼Œä½†è¯¥å˜é‡æ— æ³•ä¿è¯ç©ºä¸å¦
}
```

è¿™ä¸ªæ—¶å€™ï¼Œç©ºå€¼å°±æ˜¯æœ‰æ„ä¹‰çš„ã€‚å¯¹äºè¿™äº›å¯ä»¥ä¸ºç©ºå€¼çš„å˜é‡ï¼Œä½ å¯ä»¥åœ¨ç±»å‹å³è¾¹åŠ ä¸€ä¸ª `?` å·ï¼Œè§£é™¤å®ƒçš„éç©ºé™åˆ¶ï¼š

```kotlin
class User {
    var name: String? = null
}
```

åŠ äº†é—®å·ä¹‹åï¼Œä¸€ä¸ª Kotlin å˜é‡å°±åƒ Java å˜é‡ä¸€æ ·æ²¡æœ‰éç©ºçš„é™åˆ¶ï¼Œè‡ªç”±è‡ªåœ¨äº†ã€‚

ä½ é™¤äº†åœ¨åˆå§‹åŒ–çš„æ—¶å€™å¯ä»¥ç»™å®ƒèµ‹å€¼ä¸ºç©ºå€¼ï¼Œåœ¨ä»£ç é‡Œçš„ä»»ä½•åœ°æ–¹ä¹Ÿéƒ½å¯ä»¥ï¼š

```kotlin
var name: String? = "Mike"
...
name = null // ğŸ‘ˆåŸæ¥ä¸æ˜¯ç©ºå€¼ï¼Œèµ‹å€¼ä¸ºç©ºå€¼
```

è¿™ç§ç±»å‹ä¹‹ååŠ  `?` çš„å†™æ³•ï¼Œåœ¨ Kotlin é‡Œå«**å¯ç©ºç±»å‹**ã€‚

ä¸è¿‡ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨äº†å¯ç©ºç±»å‹çš„å˜é‡åï¼Œä¼šæœ‰æ–°çš„é—®é¢˜ï¼š

ç”±äºå¯¹ç©ºå¼•ç”¨çš„è°ƒç”¨ä¼šå¯¼è‡´ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œæ‰€ä»¥ Kotlin åœ¨å¯ç©ºå˜é‡ç›´æ¥è°ƒç”¨çš„æ—¶å€™ IDE ä¼šæŠ¥é”™ï¼š

```kotlin
var view: View? = null
view.setBackgroundColor(Color.RED)
// ğŸ‘†è¿™æ ·å†™ä¼šæŠ¥é”™ï¼ŒOnly safe (?.) or non-null asserted (!!.) calls are allowed on a nullable receiver of type View?
```

ã€Œå¯èƒ½ä¸ºç©ºã€çš„å˜é‡ï¼ŒKotlin ä¸å…è®¸ç”¨ã€‚é‚£æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬å°è¯•ç”¨ä¹‹å‰æ£€æŸ¥ä¸€ä¸‹ï¼Œä½†ä¼¼ä¹ IDE ä¸æ¥å—è¿™ç§åšæ³•ï¼š

```kotlin
if (view != null) {
    view.setBackgroundColor(Color.RED)
    // ğŸ‘†è¿™æ ·å†™ä¼šæŠ¥é”™ï¼ŒSmart cast to 'View' is impossible, because 'view' is a mutable property that could have been changed by this time
} 
```

è¿™ä¸ªæŠ¥é”™çš„æ„æ€æ˜¯å³ä½¿ä½ æ£€æŸ¥äº†éç©ºä¹Ÿä¸èƒ½ä¿è¯ä¸‹é¢è°ƒç”¨çš„æ—¶å€™å°±æ˜¯éç©ºï¼Œå› ä¸ºåœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹ï¼Œå…¶ä»–çº¿ç¨‹å¯èƒ½æŠŠå®ƒå†æ”¹æˆç©ºçš„ã€‚

é‚£ä¹ˆ Kotlin é‡Œæ˜¯è¿™ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜çš„å‘¢ï¼Ÿå®ƒç”¨çš„ä¸æ˜¯ `.` è€Œæ˜¯ `?.`ï¼š

```kotlin
view?.setBackgroundColor(Color.RED)
```

è¿™ä¸ªå†™æ³•åŒæ ·ä¼šå¯¹å˜é‡åšä¸€æ¬¡éç©ºç¡®è®¤ä¹‹åå†è°ƒç”¨æ–¹æ³•ï¼Œè¿™æ˜¯ Kotlin çš„å†™æ³•ï¼Œå¹¶ä¸”å®ƒå¯ä»¥åšåˆ°çº¿ç¨‹å®‰å…¨ï¼Œå› æ­¤è¿™ç§å†™æ³•å«åšã€Œ**safe call**ã€ã€‚

å¦å¤–è¿˜æœ‰ä¸€ç§åŒæ„Ÿå¹å·çš„ç”¨æ³•

```kotlin
view!!.setBackgroundColor(Color.RED)
```

æ„æ€æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œæˆ‘ä¿è¯è¿™é‡Œçš„ view ä¸€å®šæ˜¯éç©ºçš„ï¼Œç¼–è¯‘å™¨ä½ ä¸è¦å¸®æˆ‘åšæ£€æŸ¥äº†ï¼Œæœ‰ä»€ä¹ˆåæœæˆ‘è‡ªå·±æ‰¿æ‹…ã€‚è¿™ç§ã€Œè‚¯å®šä¸ä¼šä¸ºç©ºã€çš„æ–­è¨€å¼çš„è°ƒç”¨å«åš ã€Œ**non-null asserted call**ã€ã€‚ä¸€æ—¦ç”¨äº†éç©ºæ–­è¨€ï¼Œå®é™…ä¸Šå’Œ Java å°±æ²¡ä»€ä¹ˆä¸¤æ ·äº†ï¼Œä½†ä¹Ÿå°±äº«å—ä¸åˆ° Kotlin çš„ç©ºå®‰å…¨è®¾è®¡å¸¦æ¥çš„å¥½å¤„ï¼ˆåœ¨ç¼–è¯‘æ—¶åšæ£€æŸ¥ï¼Œè€Œä¸æ˜¯è¿è¡Œæ—¶æŠ›å¼‚å¸¸ï¼‰äº†ã€‚

ä»¥ä¸Šå°±æ˜¯ Kotlin çš„ç©ºå®‰å…¨è®¾è®¡ã€‚

å…³äºç©ºå®‰å…¨ï¼Œæœ€é‡è¦çš„æ˜¯è®°ä½ä¸€ç‚¹ï¼š**æ‰€è°“ã€Œå¯ç©ºä¸å¯ç©ºã€ï¼Œå…³æ³¨çš„å…¨éƒ½æ˜¯ä½¿ç”¨çš„æ—¶å€™ï¼Œå³ã€Œè¿™ä¸ªå˜é‡åœ¨ä½¿ç”¨æ—¶æ˜¯å¦å¯èƒ½ä¸ºç©ºã€ã€‚**

å¦å¤–ï¼ŒKotlin çš„è¿™ç§ç©ºå®‰å…¨è®¾è®¡åœ¨ä¸ Java çš„äº’ç›¸è°ƒç”¨ä¸Šæ˜¯å®Œå…¨å…¼å®¹çš„ï¼Œè¿™é‡Œçš„å…¼å®¹æŒ‡ï¼š

Java é‡Œé¢çš„ @Nullable å’Œ @NonNull æ³¨è§£ï¼Œåœ¨è½¬æ¢æˆ Kotlin åå¯¹åº”çš„å°±æ˜¯å¯ç©ºå˜é‡å’Œä¸å¯ç©ºå˜é‡ï¼Œè‡³äºæ€ä¹ˆå°† Java ä»£ç è½¬æ¢ä¸º Kotlinï¼ŒAndroid Studio ç»™æˆ‘ä»¬æä¾›äº†å¾ˆæ–¹ä¾¿çš„å·¥å…·ï¼ˆä½†å¹¶ä¸å®Œç¾ï¼‰ï¼Œ

```java
@Nullable
String name;
@NonNull
String value = "hello";
```

```kotlin
var name: String? = null
var value: String = "hello"
```



### 3ï¼‰ã€å»¶è¿Ÿåˆå§‹åŒ–

```kotlin
lateinit var view: View
```

è¿™ä¸ª `lateinit` çš„æ„æ€æ˜¯ï¼šå‘Šè¯‰ç¼–è¯‘å™¨æˆ‘æ²¡æ³•ç¬¬ä¸€æ—¶é—´å°±åˆå§‹åŒ–ï¼Œä½†æˆ‘è‚¯å®šä¼šåœ¨ä½¿ç”¨å®ƒä¹‹å‰å®Œæˆåˆå§‹åŒ–çš„ã€‚

å®ƒçš„ä½œç”¨å°±æ˜¯è®© IDE ä¸è¦å¯¹è¿™ä¸ªå˜é‡æ£€æŸ¥åˆå§‹åŒ–å’ŒæŠ¥é”™ã€‚æ¢å¥è¯è¯´ï¼ŒåŠ äº†è¿™ä¸ª `lateinit` å…³é”®å­—ï¼Œè¿™ä¸ªå˜é‡çš„åˆå§‹åŒ–å°±å…¨é ä½ è‡ªå·±äº†ï¼Œç¼–è¯‘å™¨ä¸å¸®ä½ æ£€æŸ¥äº†ã€‚

ç„¶åæˆ‘ä»¬å°±å¯ä»¥åœ¨ onCreate ä¸­è¿›è¡Œåˆå§‹åŒ–äº†ï¼š

```kotlin
lateinit var view: View
override fun onCreate(...) {
    ...
    ğŸ‘‡
    view = findViewById(R.id.tvContent)
}
```

å»¶è¿Ÿåˆå§‹åŒ–å¯¹å˜é‡çš„èµ‹å€¼æ¬¡æ•°æ²¡æœ‰é™åˆ¶ï¼Œä½ ä»ç„¶å¯ä»¥åœ¨åˆå§‹åŒ–ä¹‹åå†èµ‹å…¶ä»–çš„å€¼ç»™ `view`ã€‚

### 4ï¼‰ã€ç±»å‹æ¨æ–­

Kotlin æœ‰ä¸ªå¾ˆæ–¹ä¾¿çš„åœ°æ–¹æ˜¯ï¼Œå¦‚æœä½ åœ¨å£°æ˜çš„æ—¶å€™å°±èµ‹å€¼ï¼Œé‚£ä¸å†™å˜é‡ç±»å‹ä¹Ÿè¡Œï¼š

```ko
var name: String = "Mike"
ğŸ‘‡
var name = "Mike"
```

ã€ŒåŠ¨æ€ç±»å‹ã€æ˜¯æŒ‡å˜é‡çš„ç±»å‹åœ¨è¿è¡Œæ—¶å¯ä»¥æ”¹å˜ï¼›è€Œã€Œç±»å‹æ¨æ–­ã€æ˜¯ä½ åœ¨ä»£ç é‡Œä¸ç”¨å†™å˜é‡ç±»å‹ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™ä¼šå¸®ä½ è¡¥ä¸Šã€‚å› æ­¤ï¼ŒKotlin æ˜¯ä¸€é—¨é™æ€è¯­è¨€ã€‚

### 5ï¼‰ã€val å’Œ var

val æ˜¯ Kotlin åœ¨ Java çš„ã€Œå˜é‡ã€ç±»å‹ä¹‹å¤–ï¼Œåˆå¢åŠ çš„ä¸€ç§å˜é‡ç±»å‹ï¼šåªè¯»å˜é‡ã€‚å®ƒåªèƒ½èµ‹å€¼ä¸€æ¬¡ï¼Œä¸èƒ½ä¿®æ”¹ã€‚è€Œ var æ˜¯ä¸€ç§å¯è¯»å¯å†™å˜é‡ã€‚

> var æ˜¯ variable çš„ç¼©å†™ï¼Œval æ˜¯ value çš„ç¼©å†™ã€‚



## 2ã€å‡½æ•°

Kotlin é™¤äº†å˜é‡å£°æ˜å¤–ï¼Œå‡½æ•°çš„å£°æ˜æ–¹å¼ä¹Ÿå’Œ Java çš„æ–¹æ³•ä¸ä¸€æ ·ã€‚Java çš„æ–¹æ³•ï¼ˆmethodï¼‰åœ¨ Kotlin é‡Œå«å‡½æ•°ï¼ˆfunctionï¼‰ï¼Œå…¶å®æ²¡å•¥åŒºåˆ«ï¼Œæˆ–è€…è¯´å…¶ä¸­çš„åŒºåˆ«æˆ‘ä»¬å¯ä»¥å¿½ç•¥æ‰ã€‚å¯¹ä»»ä½•ç¼–ç¨‹è¯­è¨€æ¥è®²ï¼Œå˜é‡å°±æ˜¯ç”¨æ¥å­˜å‚¨æ•°æ®ï¼Œè€Œå‡½æ•°å°±æ˜¯ç”¨æ¥å¤„ç†æ•°æ®ã€‚

### 1ï¼‰ã€å‡½æ•°çš„å£°æ˜

Javaé‡Œçš„æ–¹æ³•æ˜¯è¿™ä¹ˆå†™çš„ï¼š

```java
Food cook(String name) {
    ...
}
```

è€Œåˆ°äº† Kotlinï¼Œå‡½æ•°çš„å£°æ˜æ˜¯è¿™æ ·ï¼š

```kotlin
ğŸ‘‡                      ğŸ‘‡
fun cook(name: String): Food {
    ...
}
```

- **ä»¥ fun å…³é”®å­—å¼€å¤´**
- **è¿”å›å€¼å†™åœ¨äº†å‡½æ•°å’Œå‚æ•°åé¢**

é‚£å¦‚æœæ²¡æœ‰è¿”å›å€¼è¯¥æ€ä¹ˆåŠï¼ŸJava é‡Œæ˜¯è¿”å› voidï¼š

```java
void main() {
   ...
}
```

Kotlin é‡Œæ˜¯è¿”å› Unitï¼Œå¹¶ä¸”å¯ä»¥çœç•¥ï¼š

```kotlin
           ğŸ‘‡
fun main(): Unit {}
// Unit è¿”å›ç±»å‹å¯ä»¥çœç•¥
fun main() {}
```



### 2ï¼‰ã€å‡½æ•°å‚æ•°çš„å¯ç©ºæ§åˆ¶

å‡½æ•°å‚æ•°ä¹Ÿå¯ä»¥æœ‰å¯ç©ºçš„æ§åˆ¶ï¼Œæ ¹æ®å‰é¢è¯´çš„ç©ºå®‰å…¨è®¾è®¡ï¼Œåœ¨ä¼ é€’æ—¶éœ€è¦æ³¨æ„ï¼š

```kotlin
// ğŸ‘‡å¯ç©ºå˜é‡ä¼ ç»™ä¸å¯ç©ºå‚æ•°ï¼ŒæŠ¥é”™
var myName : String? = "rengwuxian"
fun cook(name: String) : Food {}
cook(myName)
  
// ğŸ‘‡å¯ç©ºå˜é‡ä¼ ç»™å¯ç©ºå‚æ•°ï¼Œæ­£å¸¸è¿è¡Œ
var myName : String? = "rengwuxian"
fun cook(name: String?) : Food {}
cook(myName)
â€‹
// ğŸ‘‡ä¸å¯ç©ºå˜é‡ä¼ ç»™ä¸å¯ç©ºå‚æ•°ï¼Œæ­£å¸¸è¿è¡Œ
var myName : String = "rengwuxian"
fun cook(name: String) : Food {}
cook(myName)
```

**å½¢å‚ä¸å®å‚è¦ä¹ˆéƒ½æ˜¯å¯ç©ºï¼Œè¦ä¹ˆéƒ½æ˜¯ä¸å¯ç©ºï¼Œå¿…é¡»ä¸€è‡´**



### 3ï¼‰ã€å±æ€§çš„ getter/setter å‡½æ•°

æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ Java é‡Œé¢çš„ field ç»å¸¸ä¼šå¸¦æœ‰ getter/setter å‡½æ•°ï¼š

```java
public class User {
    String name;
    public String getName() {
        return this.name;
    }
    public void setName(String name) {
        this.name = name;
    }
}
```

å®ƒä»¬çš„ä½œç”¨å°±æ˜¯å¯ä»¥è‡ªå®šä¹‰å‡½æ•°å†…éƒ¨å®ç°æ¥è¾¾åˆ°ã€Œé’©å­ã€çš„æ•ˆæœï¼Œæ¯”å¦‚ä¸‹é¢è¿™ç§ï¼š

```java
public class User {
    String name;
    public String getName() {
        return this.name + " nb";
    }
    public void setName(String name) {
        this.name = "Cute " + name;
    }
}
```

åœ¨ Kotlin é‡Œï¼Œè¿™ç§ getter / setter æ˜¯æ€ä¹ˆè¿ä½œçš„å‘¢ï¼Ÿ

```kotlin
class User {
    var name = "Mike"
    fun run() {
        name = "Mary"
        // ğŸ‘†çš„å†™æ³•å®é™…ä¸Šæ˜¯ğŸ‘‡è¿™ä¹ˆè°ƒç”¨çš„
        // setName("Mary")
        // å»ºè®®è‡ªå·±è¯•è¯•ï¼ŒIDE çš„ä»£ç è¡¥å…¨åŠŸèƒ½ä¼šåœ¨ä½ æ‰“å‡º setn çš„æ—¶å€™ç›´æ¥æç¤º name è€Œä¸æ˜¯ setName
        
        println(name)
        // ğŸ‘†çš„å†™æ³•å®é™…ä¸Šæ˜¯ğŸ‘‡è¿™ä¹ˆè°ƒç”¨çš„
        // print(getName())
        // IDE çš„ä»£ç è¡¥å…¨åŠŸèƒ½ä¼šåœ¨ä½ æ‰“å‡º getn çš„æ—¶å€™ç›´æ¥æç¤º name è€Œä¸æ˜¯ getName
    }
}
```

é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æ¥æ“ä½œå‰é¢æåˆ°çš„ã€Œé’©å­ã€å‘¢ï¼Ÿçœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š

```kotlin
class User {
    var name = "Mike"
        ğŸ‘‡
        get() {
            return field + " nb"
        }
        ğŸ‘‡   ğŸ‘‡ 
        set(value) {
            field = "Cute " + value
        }
}
```

æ ¼å¼ä¸Šå’Œ Java æœ‰ä¸€äº›åŒºåˆ«ï¼š

- getter / setter å‡½æ•°æœ‰äº†ä¸“é—¨çš„å…³é”®å­— get å’Œ set
- getter / setter å‡½æ•°ä½äº var æ‰€å£°æ˜çš„å˜é‡ä¸‹é¢
- setter å‡½æ•°å‚æ•°æ˜¯ value

é™¤æ­¤ä¹‹å¤–è¿˜å¤šäº†ä¸€ä¸ªå« field çš„ä¸œè¥¿ã€‚è¿™ä¸ªä¸œè¥¿å«åšã€Œ**Backing Field**ã€ï¼Œä¸­æ–‡ç¿»è¯‘æ˜¯**å¹•åå­—æ®µ**æˆ–**åå¤‡å­—æ®µ**ï¼ˆé©¬äº‘èƒŒåçš„å¥³äººğŸ˜ï¼‰ã€‚å…·ä½“æ¥è¯´ï¼Œä½ çš„è¿™ä¸ªä»£ç ï¼š

```kotlin
class Kotlin {
  var name = "kaixue.io"
}
```

åœ¨ç¼–è¯‘åçš„å­—èŠ‚ç å¤§è‡´ç­‰ä»·äºè¿™æ ·çš„ Java ä»£ç ï¼š

```java
public final class Kotlin {
   @NotNull
   private String name = "kaixue.io";
â€‹
   @NotNull
   public final String getName() {
      return this.name;
   }
â€‹
   public final void setName(@NotNull String name) {
      this.name = name;
   }
}
```



